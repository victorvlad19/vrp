<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Virtual Piano</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
    <script src="https://rawgit.com/caseyyee/aframe-ui-widgets/master/dist/aframe-ui-widgets.min.js"></script>
    <script src="button.js"></script>
    <script src="menu.js"></script>
    <script src="pressable.js"></script>
</head>
<body>
    <a-scene debug stats="false">

        <a-assets>
            <a-asset-item id="piano" src="piano.gltf"></a-asset-item>
            <audio id="C3_Song" src="https://archive.org/download/SynthesizedPianoNotes/Piano11.mp3"></audio>
            <audio id="D" src="https://archive.org/download/SynthesizedPianoNotes/Piano13.mp3"></audio>
            <audio id="E" src="https://archive.org/download/SynthesizedPianoNotes/Piano15.mp3"></audio>
            <audio id="F" src="https://archive.org/download/SynthesizedPianoNotes/Piano16.mp3"></audio>
            <audio id="G" src="https://archive.org/download/SynthesizedPianoNotes/Piano18.mp3"></audio>
            <audio id="A" src="https://archive.org/download/SynthesizedPianoNotes/Piano110.mp3"></audio>
            <audio id="B" src="https://archive.org/download/SynthesizedPianoNotes/Piano112.mp3"></audio>
        </a-assets>

        <a-entity id="buttonStd" ui-button position="-0.146 1.358 -0.8" rotation="45 0 0" scale="0.3 0.3 0.3"></a-entity>
<!--        <a-box position="0 1.33413 -0.03767" rotation="45 0 0" scale="1.32 0.02 0.65" color="#4CC3D9"></a-box>-->
<!--        <a-box id="buttonStd" color="white"  position="-0.25955 1.5096 -0.46101" rotation="45 0 0" scale="0.04 0.05 0.62" sound="src: #C; on: click">-->
<!--            <a-animation attribute="color" begin="mouseenter" dur="300" from="grey" to="white"></a-animation>-->
<!--            <a-animation attribute="color" begin="mouseleave" dur="300" from="white" to="grey"></a-animation>-->
<!--            <a-animation attribute="scale" begin="mouseenter" dur="300" to="2.1 2.1 4.1"></a-animation>-->
<!--            <a-animation attribute="scale" begin="mouseleave" dur="300" to="2 2 4"></a-animation>-->
<!--            <a-animation attribute="position" begin="click" dur="300" direction="alternate" repeat=1 to="-6.3 -2.5 -5"></a-animation>-->
<!--        </a-box>-->
<!--        <a-entity gltf-model="#piano" position="0 0.751 -0.80793" rotation="270 0 0" scale="0.3 0.51 0.73"></a-entity>-->

        <a-entity id="menu" menu position="0 1.5 -0.5" rotation="-45 0 0" >
            <a-entity id="C2" button position="-0.42 0 0"></a-entity>
            <a-entity id="D2" button position="-0.36 0 0"></a-entity>
            <a-entity id="E2" button position="-0.30 0 0"></a-entity>
            <a-entity id="F2" button position="-0.24 0 0"></a-entity>
            <a-entity id="G2" button position="-0.18 0 0"></a-entity>
            <a-entity id="A2" button position="-0.12 0 0"></a-entity>
            <a-entity id="B2" button sound="src: #C3_Song; on: click" position="-0.06 0 0"></a-entity>
            <a-entity id="C3" button position="0 0 0"></a-entity>
            <a-entity id="D3" button position="0.06 0 0"></a-entity>
            <a-entity id="E3" button position="0.12 0 0"></a-entity>
            <a-entity id="F3" button position="0.18 0 0"></a-entity>
            <a-entity id="G3" button position="0.24 0 0"></a-entity>
            <a-entity id="A3" button position="0.30 0 0"></a-entity>
            <a-entity id="B3" button position="0.36 0 0"></a-entity>
            <a-entity id="C4" button position="0.42 0 0"></a-entity>
        </a-entity>


        <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box>
        <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere>
        <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>



        <a-entity id="leftHand" hand-tracking-controls="hand: left;"></a-entity>
        <a-entity id="rightHand" hand-tracking-controls="hand: right;"></a-entity>
        <a-entity environment="preset: forest;"></a-entity>

    </a-scene>

    <script>
        var buttonStd = document.querySelector('#buttonStd');
        buttonStd.addEventListener('pressed', function() {
            debugger;
            var randomHexColor = Math.floor(Math.random() * 0xffffff).toString(16);
            targetEntity.setAttribute('material', {
                color: '#' + randomHexColor
            });
        });
    </script>

</body>
</html>